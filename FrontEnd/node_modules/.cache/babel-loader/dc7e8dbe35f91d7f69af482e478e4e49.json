{"remainingRequest":"C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\src\\components\\InputFields\\InputFieldComponents\\InputFieldDep.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\src\\components\\InputFields\\InputFieldComponents\\InputFieldDep.vue","mtime":1644243825941},{"path":"C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644423218092},{"path":"C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1644423218077},{"path":"C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\babel-loader\\lib\\index.js","mtime":1644423219187},{"path":"C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644423218092},{"path":"C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1644423219480}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbImRlcGFydG1lbnRzIiwgInNlbGVjdGVkX2RhdGFzZXRfaWQiLCAic2VsZWN0ZWRfZGF0YXNldF9sYWJlbCJdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZF9kZXBhcnRtZW50OiAiIiwKICAgICAgZGVwYXJ0bWVudHNfYnlfaGllcmFyY2h5OiAiIiwKICAgICAgZGVwSW5mbzogZmFsc2UsCiAgICAgIGRpc2FibGVkX2RlcEluZm86IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kX2RlcGFydG1lbnRzOiBmdW5jdGlvbiBzZW5kX2RlcGFydG1lbnRzKCkgewogICAgICB0aGlzLmRpc2FibGVkX2RlcEluZm8gPSBmYWxzZTsKICAgICAgdGhpcy5nZXREYXRhc2V0RGVwYXJ0bWVudEJ5SGllYXJjaHkoKTsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQtcGFyYW1ldGVyIiwgdGhpcy5zZWxlY3RlZF9kZXBhcnRtZW50KTsKICAgIH0sCiAgICB0b2dnbGVEZXBJbmZvOiBmdW5jdGlvbiB0b2dnbGVEZXBJbmZvKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZF9kZXBhcnRtZW50ID09PSAiIikgewogICAgICAgIHRoaXMuZGlzYWJsZWRfZGVwSW5mbyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaXNhYmxlZF9kZXBJbmZvID0gZmFsc2U7CiAgICAgICAgdGhpcy5kZXBJbmZvID0gIXRoaXMuZGVwSW5mbzsKICAgICAgfQogICAgfSwKICAgIGdldERhdGFzZXREZXBhcnRtZW50QnlIaWVhcmNoeTogZnVuY3Rpb24gZ2V0RGF0YXNldERlcGFydG1lbnRCeUhpZWFyY2h5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MuZ2V0KCIvZ2V0X2RhdGFfc3BlY2lhbF9ieV9icl9oaWVyYXJjaHkvIiArIHRoaXMuc2VsZWN0ZWRfZGF0YXNldF9pZCArICIvIiArIHRoaXMuc2VsZWN0ZWRfZGF0YXNldF9sYWJlbCArICIvIiArICJnZXRfZGVwYXJ0bWVudHNfYnlfYnJfaGlhcmFyY2h5LyIgKyB0aGlzLnNlbGVjdGVkX2RlcGFydG1lbnRbImRlcCJdKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGVwYXJ0bWVudHNfdG1wID0gW107CgogICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCByZXMuZGF0YS5kYXRhLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgZGVwYXJ0bWVudHNfdG1wLnB1c2goewogICAgICAgICAgICBkZXA6IHJlcy5kYXRhLmRhdGFbaW5kZXhdCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmRlcGFydG1lbnRzX2J5X2hpZXJhcmNoeSA9IGRlcGFydG1lbnRzX3RtcDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\efstr\\OneDrive\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\src\\components\\InputFields\\InputFieldComponents\\InputFieldDep.vue"],"names":[],"mappings":"AA8DA,eAAe;AACb,EAAA,KAAK,EAAE,CAAC,aAAD,EAAgB,qBAAhB,EAAuC,wBAAvC,CADM;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,mBAAmB,EAAE,EADhB;AAEL,MAAA,wBAAwB,EAAE,EAFrB;AAGL,MAAA,OAAO,EAAE,KAHJ;AAIL,MAAA,gBAAgB,EAAE;AAJb,KAAP;AAMD,GATY;AAUb,EAAA,OAAO,EAAE;AACP,IAAA,gBADO,8BACY;AACjB,WAAK,gBAAL,GAAwB,KAAxB;AACA,WAAK,8BAAL;AACA,WAAK,KAAL,CAAW,iBAAX,EAA8B,KAAK,mBAAnC;AACD,KALM;AAMP,IAAA,aANO,2BAMS;AACd,UAAI,KAAK,mBAAL,KAA6B,EAAjC,EAAqC;AACnC,aAAK,gBAAL,GAAwB,IAAxB;AACF,OAFA,MAEO;AACL,aAAK,gBAAL,GAAwB,KAAxB;AACA,aAAK,OAAL,GAAe,CAAC,KAAK,OAArB;AACF;AACD,KAbM;AAcP,IAAA,8BAdO,4CAc0B;AAAA;;AAC/B,WAAK,MAAL,CACG,GADH,CAEI,uCACE,KAAK,mBADP,GAEE,GAFF,GAGE,KAAK,sBAHP,GAIE,GAJF,GAKE,kCALF,GAME,KAAK,mBAAL,CAAyB,KAAzB,CARN,EAUG,IAVH,CAUQ,UAAC,GAAD,EAAS;AACb,YAAI,eAAc,GAAI,EAAtB;;AACA,aAAK,IAAI,KAAI,GAAI,CAAjB,EAAoB,KAAI,GAAI,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,MAA1C,EAAkD,KAAK,EAAvD,EAA2D;AACzD,UAAA,eAAe,CAAC,IAAhB,CAAqB;AAAE,YAAA,GAAG,EAAE,GAAG,CAAC,IAAJ,CAAS,IAAT,CAAc,KAAd;AAAP,WAArB;AACF;;AACA,QAAA,KAAI,CAAC,wBAAL,GAAgC,eAAhC;AACD,OAhBH;AAiBD;AAhCM;AAVI,CAAf","sourcesContent":["<template>\r\n  <Card class=\"component-card\">\r\n    <template v-slot:title> Department </template>\r\n    <template v-slot:subtitle>\r\n      Select Department to perform KPI Analysis\r\n    </template>\r\n    <template v-slot:content>\r\n      <form>\r\n        <div class=\"p-grid\">\r\n          <div class=\"p-col-10\">\r\n            <Dropdown\r\n              v-model=\"selected_department\"\r\n              :options=\"departments\"\r\n              :filter=\"true\"\r\n              optionLabel=\"dep\"\r\n              placeholder=\"Select Department\"\r\n              filterPlaceholder=\"Find a Departmet\"\r\n              @change=\"send_departments\"\r\n            />\r\n          </div>\r\n          <div class=\"p-col-2\">\r\n            <Button\r\n              icon=\"pi pi-info\"\r\n              class=\"p-button-rounded p-button-info\"\r\n              @click=\"toggleDepInfo()\"\r\n              :disabled=\"disabled_depInfo\"\r\n            />\r\n            <Dialog\r\n              header=\"Info\"\r\n              v-model:visible=\"depInfo\"\r\n              :style=\"{ width: '50vw' }\"\r\n              :maximizable=\"true\"\r\n              :modal=\"true\"\r\n            >\r\n              <p class=\"p-m-0\">\r\n                By selecting a department all sub departments associated with\r\n                the selected department will be included in the Analysis too! In\r\n                your current case:\r\n              </p>\r\n              <ul\r\n                v-for=\"department in departments_by_hierarchy\"\r\n                :key=\"department.dep\"\r\n              >\r\n                <li>{{ department.dep }}</li>\r\n              </ul>\r\n              <template #footer>\r\n                <Button\r\n                  label=\"Confirm\"\r\n                  icon=\"pi pi-check\"\r\n                  @click=\"toggleDepInfo()\"\r\n                  autofocus\r\n                />\r\n              </template>\r\n            </Dialog>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </template>\r\n    <template #footer> </template>\r\n  </Card>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: [\"departments\", \"selected_dataset_id\", \"selected_dataset_label\"],\r\n  data() {\r\n    return {\r\n      selected_department: \"\",\r\n      departments_by_hierarchy: \"\",\r\n      depInfo: false,\r\n      disabled_depInfo: true,\r\n    };\r\n  },\r\n  methods: {\r\n    send_departments() {\r\n      this.disabled_depInfo = false;\r\n      this.getDatasetDepartmentByHiearchy();\r\n      this.$emit(\"input-parameter\", this.selected_department);\r\n    },\r\n    toggleDepInfo() {\r\n      if (this.selected_department === \"\") {\r\n        this.disabled_depInfo = true;\r\n      } else {\r\n        this.disabled_depInfo = false;\r\n        this.depInfo = !this.depInfo;\r\n      }\r\n    },\r\n    getDatasetDepartmentByHiearchy() {\r\n      this.$axios\r\n        .get(\r\n          \"/get_data_special_by_br_hierarchy/\" +\r\n            this.selected_dataset_id +\r\n            \"/\" +\r\n            this.selected_dataset_label +\r\n            \"/\" +\r\n            \"get_departments_by_br_hiararchy/\" +\r\n            this.selected_department[\"dep\"]\r\n        )\r\n        .then((res) => {\r\n          var departments_tmp = [];\r\n          for (let index = 0; index < res.data.data.length; index++) {\r\n            departments_tmp.push({ dep: res.data.data[index] });\r\n          }\r\n          this.departments_by_hierarchy = departments_tmp;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.component-card {\r\n  margin-top: 30px;\r\n  position: relative;\r\n  display: flex;\r\n  table-layout: fixed;\r\n  flex-grow: 1;\r\n  flex-direction: column;\r\n  min-width: 0;\r\n  word-wrap: break-word;\r\n  background-color: #fff;\r\n  background-clip: border-box;\r\n  border-radius: 0.25rem;\r\n  resize: both;\r\n  overflow: auto;\r\n  margin-right: 10px;\r\n  margin-left: 10px;\r\n  min-height: 175px;\r\n  /* min-width: 100%; */\r\n}\r\n</style>"],"sourceRoot":""}]}