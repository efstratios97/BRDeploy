{"remainingRequest":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\src\\components\\UpdateDepartment.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\src\\components\\UpdateDepartment.vue","mtime":1619876495828},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWRfdXNlcjogIiIsCiAgICAgIHNlbGVjdGVkX2RlcDogIiIsCiAgICAgIHVzZXJzX2NvbXBsZXRlOiAiIiwKICAgICAgdXNlcnM6IHRoaXMubGlzdFVzZXJzKCksCiAgICAgIGRlcGFydG1lbnRzOiB0aGlzLmxpc3REZXBhcnRtZW50cygpCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbGlzdFVzZXJzOiBmdW5jdGlvbiBsaXN0VXNlcnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiaHR0cDovLzEyNy4wLjAuMTo4MDgxL3VzZXJzIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHVzZXJzX3RtcCA9IFtdOwogICAgICAgIF90aGlzLnVzZXJzX2NvbXBsZXRlID0gcmVzLmRhdGE7CgogICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCByZXMuZGF0YS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIHVzZXJzX3RtcC5wdXNoKHsKICAgICAgICAgICAgdXNlcjogcmVzLmRhdGFbaW5kZXhdWyJlbWFpbCJdCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzLnVzZXJzID0gdXNlcnNfdG1wOwogICAgICB9KTsKICAgIH0sCiAgICBsaXN0RGVwYXJ0bWVudHM6IGZ1bmN0aW9uIGxpc3REZXBhcnRtZW50cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmF4aW9zLmdldCgiaHR0cDovLzEyNy4wLjAuMTo4MDgxL2RlcGFydG1lbnRzIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRlcF90bXAgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHJlcy5kYXRhLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgZGVwX3RtcC5wdXNoKHsKICAgICAgICAgICAgZGVwOiByZXMuZGF0YVtpbmRleF1bIm5hbWUiXQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIuZGVwYXJ0bWVudHMgPSBkZXBfdG1wOwogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVEZXBhcnRtZW50OiBmdW5jdGlvbiB1cGRhdGVEZXBhcnRtZW50KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnVzZXJzX2NvbXBsZXRlLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgIGlmICh0aGlzLnVzZXJzX2NvbXBsZXRlW2luZGV4XVsiZW1haWwiXSA9PT0gdGhpcy5zZWxlY3RlZF91c2VyLnVzZXIpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfdXNlci51c2VyID0gdGhpcy51c2Vyc19jb21wbGV0ZVtpbmRleF1bInVzZXJfaWQiXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRoaXMuYXhpb3MucG9zdCgiaHR0cDovLzEyNy4wLjAuMTo4MDgxL3VwZGF0ZV9kZXBhcnRtZW50LyIgKyB0aGlzLnNlbGVjdGVkX2RlcC5kZXAgKyAiLyIgKyB0aGlzLnNlbGVjdGVkX3VzZXIudXNlcikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiR0b2FzdC5hZGQoewogICAgICAgICAgc2V2ZXJpdHk6ICJzdWNjZXNzIiwKICAgICAgICAgIHN1bW1hcnk6ICJTdWNjZXNzZnVsbHkgdXBkYXRlZCBVc2VyJ3MgRGVwYXJ0bWVudCIsCiAgICAgICAgICBkZXRhaWw6ICJZb3Ugc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgVXNlcidzIERlcGFydG1lbnQiLAogICAgICAgICAgbGlmZTogMzAwMAogICAgICAgIH0pOwoKICAgICAgICBfdGhpczMuJGVtaXQoImNsb3NlIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJHRvYXN0LmFkZCh7CiAgICAgICAgICBzZXZlcml0eTogImVycm9yIiwKICAgICAgICAgIHN1bW1hcnk6ICJVcGRhdGUgb2YgVXNlcidzIERlcGFydG1lbnQgd2FzIHVuc3VjY2Vzc2Z1bCIsCiAgICAgICAgICBkZXRhaWw6ICJZb3UgY291bGQgbm90IHN1Y2Nlc3NmdWxseSB1cGRhdGUgdGhlIFVzZXIncyBEZXBhcnRtZW50ISBDaGVjayBpZiB5b3UgaGF2ZSBhZG1pbiByaWdodHMhIiwKICAgICAgICAgIGxpZmU6IDMwMDAKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\src\\components\\UpdateDepartment.vue"],"names":[],"mappings":";AAiDA,eAAe;AACb,EAAA,IADa,kBACN;AACL,WAAO;AACL,MAAA,aAAa,EAAE,EADV;AAEL,MAAA,YAAY,EAAE,EAFT;AAGL,MAAA,cAAc,EAAE,EAHX;AAIL,MAAA,KAAK,EAAE,KAAK,SAAL,EAJF;AAKL,MAAA,WAAW,EAAE,KAAK,eAAL;AALR,KAAP;AAOD,GATY;AAUb,EAAA,OAAO,EAAE;AACP,IAAA,SADO,uBACK;AAAA;;AACV,WAAK,KAAL,CAAW,GAAX,CAAe,6BAAf,EAA8C,IAA9C,CAAmD,UAAC,GAAD,EAAS;AAC1D,YAAI,SAAQ,GAAI,EAAhB;AACA,QAAA,KAAI,CAAC,cAAL,GAAsB,GAAG,CAAC,IAA1B;;AACA,aAAK,IAAI,KAAI,GAAI,CAAjB,EAAoB,KAAI,GAAI,GAAG,CAAC,IAAJ,CAAS,MAArC,EAA6C,KAAK,EAAlD,EAAsD;AACpD,UAAA,SAAS,CAAC,IAAV,CAAe;AACb,YAAA,IAAI,EAAE,GAAG,CAAC,IAAJ,CAAS,KAAT,EAAgB,OAAhB;AADO,WAAf;AAGF;;AACA,QAAA,KAAI,CAAC,KAAL,GAAa,SAAb;AACD,OATD;AAUD,KAZM;AAaP,IAAA,eAbO,6BAaW;AAAA;;AAChB,WAAK,KAAL,CAAW,GAAX,CAAe,mCAAf,EAAoD,IAApD,CAAyD,UAAC,GAAD,EAAS;AAChE,YAAI,OAAM,GAAI,EAAd;;AACA,aAAK,IAAI,KAAI,GAAI,CAAjB,EAAoB,KAAI,GAAI,GAAG,CAAC,IAAJ,CAAS,MAArC,EAA6C,KAAK,EAAlD,EAAsD;AACpD,UAAA,OAAO,CAAC,IAAR,CAAa;AACX,YAAA,GAAG,EAAE,GAAG,CAAC,IAAJ,CAAS,KAAT,EAAgB,MAAhB;AADM,WAAb;AAGF;;AACA,QAAA,MAAI,CAAC,WAAL,GAAmB,OAAnB;AACD,OARD;AASD,KAvBM;AAwBP,IAAA,gBAxBO,8BAwBY;AAAA;;AACjB,WAAK,IAAI,KAAI,GAAI,CAAjB,EAAoB,KAAI,GAAI,KAAK,cAAL,CAAoB,MAAhD,EAAwD,KAAK,EAA7D,EAAiE;AAC/D,YAAI,KAAK,cAAL,CAAoB,KAApB,EAA2B,OAA3B,MAAwC,KAAK,aAAL,CAAmB,IAA/D,EAAqE;AACnE,eAAK,aAAL,CAAmB,IAAnB,GAA0B,KAAK,cAAL,CAAoB,KAApB,EAA2B,SAA3B,CAA1B;AACF;AACF;;AACA,WAAK,KAAL,CACG,IADH,CAEI,6CACE,KAAK,YAAL,CAAkB,GADpB,GAEE,GAFF,GAGE,KAAK,aAAL,CAAmB,IALzB,EAOG,IAPH,CAOQ,YAAM;AACV,QAAA,MAAI,CAAC,MAAL,CAAY,GAAZ,CAAgB;AACd,UAAA,QAAQ,EAAE,SADI;AAEd,UAAA,OAAO,EAAE,wCAFK;AAGd,UAAA,MAAM,EAAE,4CAHM;AAId,UAAA,IAAI,EAAE;AAJQ,SAAhB;;AAMA,QAAA,MAAI,CAAC,KAAL,CAAW,OAAX;AACD,OAfH,EAgBG,KAhBH,CAgBS,YAAM;AACX,QAAA,MAAI,CAAC,MAAL,CAAY,GAAZ,CAAgB;AACd,UAAA,QAAQ,EAAE,OADI;AAEd,UAAA,OAAO,EAAE,8CAFK;AAGd,UAAA,MAAM,EACJ,0FAJY;AAKd,UAAA,IAAI,EAAE;AALQ,SAAhB;AAOD,OAxBH;AAyBD;AAvDM;AAVI,CAAf","sourcesContent":["<template>\r\n  <div>\r\n    <form>\r\n      <div class=\"p-field p-grid\">\r\n        <div class=\"p-col-12\">\r\n          <label for=\"old_pw\">\r\n            <b-icon-person-fill /> Please select User to change\r\n            Department</label\r\n          >\r\n        </div>\r\n        <div class=\"p-col-12\">\r\n          <Dropdown\r\n            v-model=\"selected_user\"\r\n            :options=\"users\"\r\n            optionLabel=\"user\"\r\n            placeholder=\"Select a User\"\r\n            :filter=\"true\"\r\n            filterPlaceholder=\"Find a User\"\r\n            :showClear=\"true\"\r\n          />\r\n        </div>\r\n        <div class=\"p-col-12\">\r\n          <br />\r\n          <label for=\"new_pw1\"\r\n            ><b-icon-building /> Please select the new Department</label\r\n          >\r\n        </div>\r\n        <div class=\"p-col-12\">\r\n          <Dropdown\r\n            v-model=\"selected_dep\"\r\n            :options=\"departments\"\r\n            optionLabel=\"dep\"\r\n            placeholder=\"Select a Department\"\r\n            :filter=\"true\"\r\n            filterPlaceholder=\"Find a Department\"\r\n            :showClear=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button\r\n        label=\"Submit\"\r\n        icon=\"pi pi-check\"\r\n        iconPos=\"right\"\r\n        @click=\"updateDepartment\"\r\n      />\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      selected_user: \"\",\r\n      selected_dep: \"\",\r\n      users_complete: \"\",\r\n      users: this.listUsers(),\r\n      departments: this.listDepartments(),\r\n    };\r\n  },\r\n  methods: {\r\n    listUsers() {\r\n      this.axios.get(\"http://127.0.0.1:8081/users\").then((res) => {\r\n        var users_tmp = [];\r\n        this.users_complete = res.data;\r\n        for (let index = 0; index < res.data.length; index++) {\r\n          users_tmp.push({\r\n            user: res.data[index][\"email\"],\r\n          });\r\n        }\r\n        this.users = users_tmp;\r\n      });\r\n    },\r\n    listDepartments() {\r\n      this.axios.get(\"http://127.0.0.1:8081/departments\").then((res) => {\r\n        var dep_tmp = [];\r\n        for (let index = 0; index < res.data.length; index++) {\r\n          dep_tmp.push({\r\n            dep: res.data[index][\"name\"],\r\n          });\r\n        }\r\n        this.departments = dep_tmp;\r\n      });\r\n    },\r\n    updateDepartment() {\r\n      for (let index = 0; index < this.users_complete.length; index++) {\r\n        if (this.users_complete[index][\"email\"] === this.selected_user.user) {\r\n          this.selected_user.user = this.users_complete[index][\"user_id\"];\r\n        }\r\n      }\r\n      this.axios\r\n        .post(\r\n          \"http://127.0.0.1:8081/update_department/\" +\r\n            this.selected_dep.dep +\r\n            \"/\" +\r\n            this.selected_user.user\r\n        )\r\n        .then(() => {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Successfully updated User's Department\",\r\n            detail: \"You successfully updated User's Department\",\r\n            life: 3000,\r\n          });\r\n          this.$emit(\"close\");\r\n        })\r\n        .catch(() => {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Update of User's Department was unsuccessful\",\r\n            detail:\r\n              \"You could not successfully update the User's Department! Check if you have admin rights!\",\r\n            life: 3000,\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.p-password input {\r\n  width: 15rem;\r\n}\r\n</style>"],"sourceRoot":""}]}