{"remainingRequest":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\src\\components\\AddDataSet.vue?vue&type=style&index=0&id=0f8ec9b2&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\src\\components\\AddDataSet.vue","mtime":1635802212953},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpsYWJlbCB7DQogIGRpc3BsYXk6IGJsb2NrOw0KICBmb250LXNpemU6IDE1cHg7DQp9DQoucC1jaGVja2JveC1pY29uIHsNCiAgZm9udC1zaXplOiAzNXB4Ow0KfQ0KDQoucC1ncmlkIHsNCiAgbWFyZ2luLXRvcDogMTVweDsNCn0NCg=="},{"version":3,"sources":["C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\src\\components\\AddDataSet.vue"],"names":[],"mappings":";AAkQA,CAAC,CAAC,CAAC,CAAC,EAAE;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAClB","file":"C:/Users/Strat/Desktop/ProjectAthena/AthenaSRC/FrontEnd/src/components/AddDataSet.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <form>\r\n    <div class=\"p-grid p-fluid\">\r\n      <div class=\"p-col-12 p-md-12\">\r\n        <div class=\"p-inputgroup\">\r\n          <span class=\"p-inputgroup-addon\">\r\n            <i class=\"pi pi-file\"></i>\r\n          </span>\r\n          <InputText\r\n            placeholder=\"Dataset's Name\"\r\n            v-model=\"name\"\r\n            class=\"inputfield w-full\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"p-grid p-fluid\">\r\n      <div class=\"p-col-12 p-md-12\">\r\n        <Textarea\r\n          placeholder=\"Dataset Description\"\r\n          v-model=\"description\"\r\n          :autoResize=\"true\"\r\n          rows=\"5\"\r\n          cols=\"30\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"p-grid p-fluid\">\r\n      <div class=\"p-col-12 p-md-12\">\r\n        <div class=\"p-inputgroup\">\r\n          <span class=\"p-inputgroup-addon\">\r\n            <i class=\"pi pi-users\"></i>\r\n          </span>\r\n          <MultiSelect\r\n            v-model=\"selected_users\"\r\n            :options=\"users\"\r\n            :filter=\"true\"\r\n            optionLabel=\"user.email\"\r\n            placeholder=\"Assign Users with Access (Optional)\"\r\n            filterPlaceholder=\"Find Users\"\r\n            class=\"multiselect-custom\"\r\n            :showClear=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"p-grid p-fluid\">\r\n      <div class=\"p-col-12 p-md-12\">\r\n        <div class=\"p-inputgroup\">\r\n          <span class=\"p-inputgroup-addon\">\r\n            <b-icon-building />\r\n          </span>\r\n          <MultiSelect\r\n            v-model=\"selected_departments\"\r\n            :options=\"departments\"\r\n            :filter=\"true\"\r\n            optionLabel=\"dep.name\"\r\n            placeholder=\"Assign Departments with Access (Optional)\"\r\n            filterPlaceholder=\"Find Departments\"\r\n            class=\"multiselect-custom\"\r\n            :showClear=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"p-grid p-fluid\">\r\n      <div class=\"col-4 col-offset-1\">\r\n        <i class=\"pi pi-sliders-h p-checkbox-icon\"></i>\r\n        <label>Cleaned</label>\r\n      </div>\r\n      <div class=\"p-field-checkbox\">\r\n        <Checkbox v-model=\"cleaned\" :binary=\"true\" />\r\n      </div>\r\n    </div>\r\n\r\n    <ul class=\"form-list\">\r\n      <li class=\"form-list__row\">\r\n        <label for=\"DatasetName\"> <b-icon-archive-fill /> Name:</label>\r\n        <input\r\n          class=\"input100\"\r\n          id=\"DatasetName\"\r\n          type=\"text\"\r\n          v-model=\"name\"\r\n          placeholder=\"Data Set Name\"\r\n          required=\"\"\r\n        />\r\n      </li>\r\n      <li class=\"form-list__row\">\r\n        <label for=\"DatasetName\" id=\"description\">\r\n          <b-icon-pencil-fill /> Description:\r\n        </label>\r\n        <textarea\r\n          class=\"input100\"\r\n          v-model=\"description\"\r\n          placeholder=\"Description\"\r\n          id=\"description\"\r\n        ></textarea>\r\n      </li>\r\n      <li class=\"form-list__row form-list__row--inline\">\r\n        <div class=\"container-2\">\r\n          <div class=\"row\">\r\n            <div class=\"col-6\">\r\n              <label> <b-icon-shield-lock-fill /> Users with Access</label>\r\n              <select v-model=\"selected_users\" multiple>\r\n                <option\r\n                  v-for=\"user in users\"\r\n                  v-bind:value=\"user.email\"\r\n                  :key=\"user.email\"\r\n                >\r\n                  {{ user.email }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <label>\r\n                <b-icon-shield-lock-fill /> Departments with Access\r\n              </label>\r\n              <select v-model=\"selected_departments\" multiple>\r\n                <option\r\n                  v-for=\"department in departments\"\r\n                  v-bind:value=\"department.name\"\r\n                  :key=\"department.name\"\r\n                >\r\n                  {{ department.name }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <li class=\"form-list__row form-list__row--agree\">\r\n        <div class=\"container-2\">\r\n          <div class=\"row\">\r\n            <div class=\"col-4\">\r\n              <label for=\"cleaned\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  v-model=\"cleaned\"\r\n                  id=\"cleaned\"\r\n                  name=\"cleaned_ds\"\r\n                />\r\n                Cleaned\r\n              </label>\r\n            </div>\r\n            <div class=\"col-6\">\r\n              <label for=\"storage\">\r\n                <input\r\n                  class=\"input200\"\r\n                  type=\"checkbox\"\r\n                  v-model=\"storageType\"\r\n                  id=\"storage\"\r\n                />\r\n                <b-icon-cloud-check-fill /> Stored in Cloud\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <li class=\"form-list__row\">\r\n        <label for=\"formFile\"\r\n          ><b-icon-file-earmark-spreadsheet-fill /> File Input</label\r\n        >\r\n        <input class=\"form-control\" type=\"file\" id=\"formFile\" ref=\"file\" />\r\n      </li>\r\n      <li>\r\n        <button type=\"submit\" class=\"button\" @click=\"createDataSet\">\r\n          Create Dataset\r\n        </button>\r\n      </li>\r\n      <li v-if=\"submitted\">\r\n        <br />\r\n        <ProgressBar mode=\"indeterminate\" v-if=\"submitted\" />\r\n      </li>\r\n    </ul>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      cleaned: \"\",\r\n      description: \"\",\r\n      storageType: true,\r\n      file: \"\",\r\n      users: this.getUsersOptions(),\r\n      departments: this.getDepartmentsOptions(),\r\n      selected_users: \"\",\r\n      selected_departments: \"\",\r\n      formData: \"\",\r\n      submitted: false,\r\n    };\r\n  },\r\n  methods: {\r\n    getUsersOptions() {\r\n      this.$axios.get(\"/users\").then((res) => {\r\n        var users_tmp = [];\r\n        for (let index = 0; index < res.data.length; index++) {\r\n          users_tmp.push({ user: res.data[index] });\r\n        }\r\n        this.users = users_tmp;\r\n      });\r\n    },\r\n    getDepartmentsOptions() {\r\n      this.$axios.get(\"/departments\").then((res) => {\r\n        var departments_tmp = [];\r\n        for (let index = 0; index < res.data.length; index++) {\r\n          departments_tmp.push({ dep: res.data[index] });\r\n        }\r\n        this.departments = departments_tmp;\r\n      });\r\n    },\r\n    createDataSet() {\r\n      this.submitted = true;\r\n      this.formData = new FormData();\r\n      this.formData.append(\"name\", this.name);\r\n      this.formData.append(\"file\", this.$refs.file.files[0]);\r\n      this.formData.append(\"cleaned\", this.cleaned);\r\n      this.formData.append(\"description\", this.description);\r\n      this.formData.append(\r\n        \"storage_type\",\r\n        this.storageType === true ? \"cloud\" : \"local\"\r\n      );\r\n      this.formData.append(\"access_user_list\", this.selected_users);\r\n      this.formData.append(\r\n        \"access_business_unit_list\",\r\n        this.selected_departments\r\n      );\r\n      this.$axios\r\n        .post(\"/create_dataset?uid=\" + localStorage.loggedUser, this.formData)\r\n        .then(() => {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Dataset Creation Successful\",\r\n            detail: \"The selected Dataset was created\",\r\n            life: 3000,\r\n          });\r\n          this.$emit(\"close\");\r\n        })\r\n        .catch(() => {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Dataset Creation Unsuccessful\",\r\n            detail: \"The selected Dataset could not be created\",\r\n            life: 3000,\r\n          });\r\n          this.submitted = false;\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped >\r\nlabel {\r\n  display: block;\r\n  font-size: 15px;\r\n}\r\n.p-checkbox-icon {\r\n  font-size: 35px;\r\n}\r\n\r\n.p-grid {\r\n  margin-top: 15px;\r\n}\r\n</style>"]}]}