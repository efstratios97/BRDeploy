{"remainingRequest":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\src\\components\\UpdateDepartment.vue?vue&type=style&index=0&id=71e0c3ab&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\src\\components\\UpdateDepartment.vue","mtime":1620393338608},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoucC1wYXNzd29yZCBpbnB1dCB7DQogIHdpZHRoOiAxNXJlbTsNCn0NCg=="},{"version":3,"sources":["C:\\Users\\Strat\\Desktop\\ProjectAthena\\AthenaSRC\\FrontEnd\\project_athena\\project-athena\\src\\components\\UpdateDepartment.vue"],"names":[],"mappings":";AAuHA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACd","file":"C:/Users/Strat/Desktop/ProjectAthena/AthenaSRC/FrontEnd/project_athena/project-athena/src/components/UpdateDepartment.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div>\r\n    <form>\r\n      <div class=\"p-field p-grid\">\r\n        <div class=\"p-col-12\">\r\n          <label for=\"old_pw\">\r\n            <b-icon-person-fill /> Please select User to change\r\n            Department</label\r\n          >\r\n        </div>\r\n        <div class=\"p-col-12\">\r\n          <Dropdown\r\n            v-model=\"selected_user\"\r\n            :options=\"users\"\r\n            optionLabel=\"user\"\r\n            placeholder=\"Select a User\"\r\n            :filter=\"true\"\r\n            filterPlaceholder=\"Find a User\"\r\n            :showClear=\"true\"\r\n          />\r\n        </div>\r\n        <div class=\"p-col-12\">\r\n          <br />\r\n          <label for=\"new_pw1\"\r\n            ><b-icon-building /> Please select the new Department</label\r\n          >\r\n        </div>\r\n        <div class=\"p-col-12\">\r\n          <Dropdown\r\n            v-model=\"selected_dep\"\r\n            :options=\"departments\"\r\n            optionLabel=\"dep\"\r\n            placeholder=\"Select a Department\"\r\n            :filter=\"true\"\r\n            filterPlaceholder=\"Find a Department\"\r\n            :showClear=\"true\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <Button\r\n        label=\"Submit\"\r\n        icon=\"pi pi-check\"\r\n        iconPos=\"right\"\r\n        @click=\"updateDepartment\"\r\n      />\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      selected_user: \"\",\r\n      selected_dep: \"\",\r\n      users_complete: \"\",\r\n      users: this.listUsers(),\r\n      departments: this.listDepartments(),\r\n    };\r\n  },\r\n  methods: {\r\n    listUsers() {\r\n      this.$axios.get(\"/users\").then((res) => {\r\n        var users_tmp = [];\r\n        this.users_complete = res.data;\r\n        for (let index = 0; index < res.data.length; index++) {\r\n          users_tmp.push({\r\n            user: res.data[index][\"email\"],\r\n          });\r\n        }\r\n        this.users = users_tmp;\r\n      });\r\n    },\r\n    listDepartments() {\r\n      this.$axios.get(\"/departments\").then((res) => {\r\n        var dep_tmp = [];\r\n        for (let index = 0; index < res.data.length; index++) {\r\n          dep_tmp.push({\r\n            dep: res.data[index][\"name\"],\r\n          });\r\n        }\r\n        this.departments = dep_tmp;\r\n      });\r\n    },\r\n    updateDepartment() {\r\n      for (let index = 0; index < this.users_complete.length; index++) {\r\n        if (this.users_complete[index][\"email\"] === this.selected_user.user) {\r\n          this.selected_user.user = this.users_complete[index][\"user_id\"];\r\n        }\r\n      }\r\n      this.$axios\r\n        .post(\r\n          \"/update_department/\" +\r\n            this.selected_dep.dep +\r\n            \"/\" +\r\n            this.selected_user.user\r\n        )\r\n        .then(() => {\r\n          this.$toast.add({\r\n            severity: \"success\",\r\n            summary: \"Successfully updated User's Department\",\r\n            detail: \"You successfully updated User's Department\",\r\n            life: 3000,\r\n          });\r\n          this.$emit(\"close\");\r\n        })\r\n        .catch(() => {\r\n          this.$toast.add({\r\n            severity: \"error\",\r\n            summary: \"Update of User's Department was unsuccessful\",\r\n            detail:\r\n              \"You could not successfully update the User's Department! Check if you have admin rights!\",\r\n            life: 3000,\r\n          });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.p-password input {\r\n  width: 15rem;\r\n}\r\n</style>"]}]}